<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cr√©er mon visuel ‚Äì Appel √† l‚Äôaction</title>

  <!-- CROPJS -->
  <link rel="stylesheet" href="https://unpkg.com/cropperjs@1.6.2/dist/cropper.min.css" />

  <!-- STYLE -->
  <link rel="stylesheet" href="style.css" />

  <style>
    /* üîµ Cercle visuel autour de la zone de recadrage */
    .cropper-view-box,
    .cropper-face {
      border-radius: 50% !important;
    }

    /* üîµ Masque fonc√© autour du cercle */
    .cropper-modal {
      background-color: rgba(0, 0, 0, 0.6) !important;
    }

    /* üîµ Forcer un crop parfaitement rond */
    #cropArea img {
      max-width: 100%;
      display: block;
    }

    #cropArea {
      width: 300px;
      height: 300px;
      margin: auto;
      position: relative;
      border-radius: 50%;
      overflow: hidden;
      background: #111;
    }

    /* Pr√©visualisation ronde */
    #circlePreview {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      overflow: hidden;
      background: #222;
      margin: auto;
      border: 4px solid #f8a53b;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- INTRO -->
    <h1>Je cr√©e mon visuel ‚ÄúJ‚Äôagis pour une industrie mixte et performante‚Äù</h1>
    <p class="intro">
      Compl√®te le formulaire, importe ta photo, recadre-la dans le cercle,
      puis valide. Tu recevras ton visuel personnalis√© par e-mail.
    </p>

    <!-- INFORMATIONS -->
    <div class="sectionBox">
      <h2>1. Informations</h2>

      <label for="email">E-mail *</label>
      <input type="email" id="email" required placeholder="ton.email@exemple.com" />

      <label for="fullname">Nom (optionnel)</label>
      <input type="text" id="fullname" placeholder="Ex : Alex Dupont" />

      <h3>Nombre de logos d‚Äôorganisation</h3>
      <div class="radioGroup">
        <label><input type="radio" name="logoCount" value="0" checked /> 0 logo</label>
        <label><input type="radio" name="logoCount" value="1" /> 1 logo</label>
        <label><input type="radio" name="logoCount" value="2" /> 2 logos</label>
      </div>
      <p class="help">0 logo = visuel g√©n√©r√© sans bande blanche.</p>
    </div>

    <!-- LOGOS -->
    <div id="logosSection" class="sectionBox hidden">
      <h2>2. Logos organisationnels</h2>

      <!-- LOGO 1 -->
      <div class="logoBlock">
        <h3>Logo 1</h3>

        <label>Type d‚Äôorganisation</label>
        <select id="typeLogo1">
          <option value="alumni">Association alumni</option>
          <option value="autre">Entreprise / organisation</option>
        </select>

        <div id="logo1AlumniList">
          <label>Logo alumni</label>
          <select id="logo1Alumni" class="alumniDrop"></select>
        </div>

        <div id="logo1Upload" class="uploadBlock hidden">
          <label>Importer un logo</label>
          <input type="file" id="logo1File" accept="image/*" />
        </div>

        <canvas id="logoPreview1" class="logoCanvas"></canvas>
      </div>

      <!-- LOGO 2 -->
      <div id="logo2Block" class="logoBlock hidden">
        <h3>Logo 2</h3>

        <label>Type d‚Äôorganisation</label>
        <select id="typeLogo2">
          <option value="alumni">Association alumni</option>
          <option value="autre">Entreprise / organisation</option>
        </select>

        <div id="logo2AlumniList">
          <label>Logo alumni</label>
          <select id="logo2Alumni" class="alumniDrop"></select>
        </div>

        <div id="logo2Upload" class="uploadBlock hidden">
          <label>Importer un logo</label>
          <input type="file" id="logo2File" accept="image/*" />
        </div>

        <canvas id="logoPreview2" class="logoCanvas"></canvas>
      </div>
    </div>

    <!-- PHOTO -->
    <div class="sectionBox">
      <h2>3. Photo de profil</h2>

      <button id="uploadBtn">Choisir une photo</button>
      <input type="file" id="photoInput" accept="image/*" class="hidden" />

      <p class="help">Tu peux zoomer/d√©placer ton visage dans le cercle.</p>

      <div class="cropWrapper">
        <div id="cropArea"></div>

        <div class="previewWrapper">
          <h3>Aper√ßu final</h3>
          <div id="circlePreview"></div>
        </div>
      </div>
    </div>

    <!-- CONSENT -->
    <div class="sectionBox">
      <label>
        <input type="checkbox" id="consent" />
        J‚Äôautorise l‚Äôusage de ma photo et logos dans l‚Äôappel √† l‚Äôaction.
      </label>
    </div>

    <!-- GENERER -->
    <button id="generateBtn" disabled>G√©n√©rer mon visuel</button>

  </div>

  <!-- SCRIPTS -->
  <script src="https://unpkg.com/cropperjs@1.6.2/dist/cropper.min.js"></script>
  <script src="script.js"></script>

</body>
</html>
