<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Créer mon visuel – IndusAct</title>

    <!-- STYLES -->
    <link rel="stylesheet" href="style.css" />

    <!-- CROPPIE -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.js"></script>

</head>
<body>

    <div class="container">

        <h1 class="title">Je crée mon visuel<br>“J’agis pour une industrie mixte et performante”</h1>
        <p class="subtitle">Complète le formulaire, recadre ta photo et tes logos, puis valide. Tu recevras ton visuel final par e-mail.</p>

        <!-- SECTION 1 : INFORMATIONS -->
        <section class="block">
            <h2>1. Informations</h2>

            <label>Email (pour recevoir le visuel) *</label>
            <input id="email" type="email" required />

            <label>Nom et prénom (optionnel)</label>
            <input id="fullname" type="text" placeholder="Ex : Prénom Nom" />

            <label>Nombre de logos d’organisation à afficher</label>
            <div class="radio-line">
                <label><input type="radio" name="nbLogos" value="0" checked> 0 logo</label>
                <label><input type="radio" name="nbLogos" value="1"> 1 logo</label>
                <label><input type="radio" name="nbLogos" value="2"> 2 logos</label>
            </div>
            <p class="hint">Si tu choisis 0 logo, le visuel sera généré <b>sans bande blanche</b>.</p>

            <!-- TYPE ORGANISATION -->
            <label>Type d’organisation</label>
            <select id="orgaType">
                <option value="alumni">Association alumni</option>
                <option value="other">Entreprise / organisation</option>
            </select>

            <!-- LOGOS ALUMNI -->
            <div id="alumniZone">
                <label>Logo alumni 1</label>
                <select id="alumni1"></select>

                <div id="alumni2container">
                    <label>Logo alumni 2</label>
                    <select id="alumni2"></select>
                </div>
            </div>

            <!-- LOGOS UPLOAD -->
            <div id="uploadZone">
                <label>Importer un logo</label>
                <input id="logoUpload1" type="file" accept="image/*" />

                <div id="uploadLogo2">
                    <label>Importer un second logo</label>
                    <input id="logoUpload2" type="file" accept="image/*" />
                </div>
            </div>

            <!-- Consentement -->
            <label class="checkbox-line">
                <input type="checkbox" id="consent" />
                J’accepte que ma photo et les logos fournis soient utilisés dans le cadre de l’appel à l’action.
            </label>

        </section>

        <!-- SECTION 2 : PHOTO -->
        <section class="block">
            <h2>2. Photo de profil</h2>

            <button class="btn" onclick="document.getElementById('photoUpload').click()">Choisir une photo</button>
            <input id="photoUpload" type="file" accept="image/*" style="display:none;" />

            <p class="hint">Tu peux zoomer/déplacer ta photo. Le cadrage est circulaire.</p>

            <div class="crop-wrapper">
                <div id="photoCropArea"></div>

                <div>
                    <p>Aperçu final</p>
                    <div id="photoPreview" class="circle-preview"></div>
                </div>
            </div>
        </section>

        <!-- SECTION 3 : LOGOS -->
        <section class="block" id="logoCropSection">
            <h2>3. Recadrage des logos</h2>

            <div id="logo1CropContainer" class="crop-wrapper">
                <div>
                    <p>Logo 1</p>
                    <div id="logoCrop1"></div>
                </div>
                <div>
                    <p>Aperçu</p>
                    <div id="logoPreview1" class="logo-preview"></div>
                </div>
            </div>

            <div id="logo2CropContainer" class="crop-wrapper">
                <div>
                    <p>Logo 2</p>
                    <div id="logoCrop2"></div>
                </div>
                <div>
                    <p>Aperçu</p>
                    <div id="logoPreview2" class="logo-preview"></div>
                </div>
            </div>
        </section>

        <!-- BOUTON FINAL -->
        <button id="generateBtn" class="btn btn-big" disabled>Générer mon visuel</button>

        <!-- APERÇU DU VISUEL FINAL -->
        <section class="block">
            <h2>4. Aperçu du visuel final</h2>
            <canvas id="finalCanvas" width="1080" height="1350"></canvas>
        </section>

    </div>

    <!-- SCRIPT -->
    <script src="script.js"></script>

</body>
</html>
